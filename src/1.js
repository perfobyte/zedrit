var a=(h,l,i)=>{for(var t=0,d=0;;)if((t=l.indexOf("${"))!==-1&&(d=l.indexOf("}"))>t)l=l.substring(0,t)+i[l.substring(t+2,d).trim()]+l.substring(d+1);else{h.data=l,l="";break}};var x=(h,l,i,t)=>{for(var d=h.length,e=null,n="";l<d;l++)e=h[l],(n=e.type)===1?t(e.children,0,i):n===2&&a(e,e.data,i)};var O=(h,l,i,t,d)=>{for(var e=0,n=0,w=h.children,s=w.length,m=null,r=null,j=null,f=0,u=0,p=null,q=0,E=0,S="",y=0,_="",v="",c="",g=null,o=null,N=t.Nodes,b=!1;e<s;e++)if(r=w[e],y=r.type,y===1)if(_=r.name,_==="put")if(r.get_attribute("to")==="parentElement")for(j=r.parent,r.remove(),s--,e--,f=0,u=(p=j.children).length;f<u;f++)o=p[f],o.type===2&&a(o,o.data,i);else if(u=(p=r.children).length,u){for(f=0;f<u;f++)o=p[f],(y=o.type)===1&&x(o.children,0,i,x);r.replace_with_many((m=r.children).slice()),s+=n=m.length-1,e+=n}else r.remove(),e--,s--;else if(_==="if"){for(f=0,u=(p=r.children).length,b=!0;f<u;f++)o=p[f],o.type===2&&b&&(b=i[o.name](i));b&&(n=(m=r.children).length)?(r.replace_with_many(m.slice()),s+=--n,e+=n):(r.remove(),e--,s--)}else _==="paste"?(c=t.join(l,r.get_attribute("from")),console.log(c),v=t.read(c).toString(),g=h.create_document(new N),r.parse(v,g,0,v.length,t.unclosed,t.space,t.quotes,t.Node,N),d(g,t.dirname(c),i,t,d),(n=(m=g.children).length)?(r.replace_with_many(m.slice()),s+=--n,e+=n):(r.remove(),s--,e--)):d(r,l,i,t,d)};var k=(h,l)=>{for(var i=h.children,t=0,d=i.length,e=null,n="";t<d;)e=i[t],(n=e.type)===1?(l(e,l),t++):n===3?(e.data=e.data.trim())?t++:(e.remove(),d--):n===8?(e.remove(),d--):t++};export{O as html_compile,k as html_compress,x as html_put_deep_inside,a as html_put_inside};
//# sourceMappingURL=1.js.map
